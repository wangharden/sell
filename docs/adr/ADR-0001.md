# ADR-0001 Strategy Config Injection for Auction sell_to_mkt_ratio / 竞价比例配置注入

## Context

中文：竞价策略的 sell_to_mkt_ratio 之前硬编码在类内部（默认 0.1），无法根据运行环境或账户在不改代码的情况下调整。字段字典与配置实践都指向从 config.json 读取策略参数。

English: The auction strategy had sell_to_mkt_ratio hardcoded in the class (default 0.1), which blocked runtime tuning per environment/account. The field dictionary and config practice indicate strategy parameters should be read from config.json.

## Decision

中文：将 sell_to_mkt_ratio 放在 config.json 的 strategy 段，由 ConfigReader 读取并通过构造函数注入 AuctionSellStrategy，避免使用全局变量。

English: Store sell_to_mkt_ratio under the strategy section in config.json, read it via ConfigReader, and inject it into AuctionSellStrategy through the constructor to avoid global state.

## Alternatives

中文：
1) 使用全局变量保存比例：改动小但状态隐式、测试困难、并发风险更高。
2) 使用全局单例配置：集中读取但仍是隐式全局，存在初始化时序与热更新复杂度。

English:
1) Global variable for the ratio: minimal code change but implicit state, harder testing, and higher concurrency risk.
2) Global singleton config: centralized access but still implicit global state with ordering and hot-reload complexity.

## Consequences and Risks

中文：构造函数签名变化需要同步更新调用处；ConfigReader 为轻量解析，需保证数值格式正确并提供默认值回退。

English: Constructor signature changes require updating call sites; ConfigReader uses lightweight parsing, so numeric format must be valid and defaults should remain as a fallback.
